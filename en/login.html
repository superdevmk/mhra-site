<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<title>Најава | MHRA</title>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<link href="../assets/css/style.css" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&amp;display=swap" rel="stylesheet"/>
</head>
<body>
<!-- HEADER (ист како на останатите страници) -->
<header class="header">
<div class="nav-wrapper">
<div class="nav">
<a class="nav__brand" href="index.html">
<img alt="MHRA Logo" class="nav__logo-img" src="../assets/img/mhra_logo.jpg"/>
</a>
<nav class="nav__menu">
<div class="nav__links">
<a class="nav__link" href="index.html">Home</a>
<!-- За нас  → Информативни содржини -->
<a class="nav__link" href="about.html">Informative content</a>
<!-- Активности → Едукативни содржини -->
<a class="nav__link" href="activities.html">Educational content</a>
<!-- Галерии → Годишна конференција -->
<a class="nav__link" href="galleries.html">Yearly Conferences</a>
<!-- HR настани – останува исто -->
<a class="nav__link" href="events.html">HR Events</a>
<!-- Блог – останува исто -->
<a class="nav__link" href="blog.html">Blog</a>
<!-- Членство e heqim nga menu, e ke si buton "Стани член" -->
<a class="nav__link" href="contact.html">Contact</a>
</div>
<div class="nav__lang"><a class="nav__lang-btn" href="../mk/login.html">MK</a> | <a class="nav__lang-btn nav__lang-btn--active" href="login.html">EN</a></div>
<div class="nav__cta">
<a class="btn btn--primary" href="membership.html">Become a Member</a>
</div>
</nav>
<button aria-label="menu" class="nav__toggle">
<span class="nav__toggle-bar"></span>
</button>
</div>
</div>
</header>
<main>
<section class="section section--center">
<div class="section-shell">
<div class="section__header">
<h1 class="section__title">Најава / Регистрација за автори</h1>
<p class="section__subtitle">
              Креирај сметка или најави се за да објавуваш блог текстови.
            </p>
</div>
<div class="card" style="max-width: 480px; margin: 0 auto;">
<form class="auth-form" id="login-form">
<div class="form-group">
<label class="form__label" for="email">Е-пошта</label>
<input class="input" id="email" placeholder="you@example.com" required="" type="email"/>
</div>
<div class="form-group" style="margin-top:.75rem;">
<label class="form__label" for="password">Лозинка</label>
<input class="input" id="password" placeholder="••••••••" required="" type="password"/>
</div>
<p class="section__subtitle" id="auth-status" style="margin-top:.75rem;"></p>
<div style="display:flex; gap:.5rem; margin-top: 1rem; flex-wrap: wrap;">
<button class="btn btn--primary" id="login-submit" type="submit">
                  Најава
                </button>
<button class="btn btn--outline" id="signup-btn" type="button">
                  Регистрација
                </button>
</div>
</form>
</div>
<p class="section__subtitle" style="margin-top:1rem; text-align:center;">
            По успешна најава, ќе бидете пренасочени кон блогот.
          </p>
</div>
</section>
</main>
<!-- FOOTER -->
<footer class="footer">
<div class="footer__inner">
<div class="footer__top">
<div>
<div class="footer__brand">Macedonian Human Resources Association (MHRA)</div>
<p>A platform for development and networking of HR professionals and organizations.</p>
</div>
<div>
<p><strong>Contact</strong></p>
<p>
              Адреса: Македонска асоцијација за човечки ресурси<br/>
              Бул. ВМРО бр. 7/1-7<br/>
              1000 Скопје, Македонија
            </p>
<p>Email: contact@mhra.mk</p>
</div>
<div>
<p><strong>Links</strong></p>
<div class="footer__links">
<a href="index.html">Home</a>
<a href="membership.html">Membership</a>
<a href="contact.html">Contact</a>
<a href="#">Privacy Policy</a>
<a href="#">Terms of Use</a>
</div>
</div>
</div>
<div class="footer__bottom">
          © <span id="year-login-mk"></span> MHRA ·
          <span>All rights reserved.</span>
</div>
</div>
</footer>
<script>
      document.getElementById("year-login-mk").textContent =
        new Date().getFullYear();
    </script>
<!-- Skriptet globale -->
<script src="../assets/js/main.js"></script>
<!-- Supabase (CDN + клиент) -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="../assets/js/supabaseClient.js"></script>
<script src="../assets/js/auth.js"></script>
<script>
      document.addEventListener("DOMContentLoaded", () => {
        const form = document.getElementById("login-form");
        const submitBtn = document.getElementById("login-submit");
        const signupBtn = document.getElementById("signup-btn");
        const statusEl = document.getElementById("auth-status");

        function setStatus(msg, isError = false) {
          statusEl.textContent = msg || "";
          statusEl.style.color = isError ? "crimson" : "";
        }

        // Најава
        form.addEventListener("submit", async (e) => {
          e.preventDefault();

          const email = document.getElementById("email").value.trim();
          const password = document.getElementById("password").value.trim();

          if (!email || !password) {
            setStatus("Внесете е-пошта и лозинка.", true);
            return;
          }

          submitBtn.disabled = true;
          const oldText = submitBtn.textContent;
          submitBtn.textContent = "Се врши најава...";

          try {
            await signIn(email, password);
            setStatus("Успешна најава. Пренасочување кон блогот...", false);
            window.location.href = "blog.html";
          } catch (err) {
            console.error(err);
            setStatus(err.message || "Настана грешка при најава.", true);
          } finally {
            submitBtn.disabled = false;
            submitBtn.textContent = oldText;
          }
        });

        // Регистрација (signup)
        signupBtn.addEventListener("click", async () => {
          const email = document.getElementById("email").value.trim();
          const password = document.getElementById("password").value.trim();

          if (!email || !password) {
            setStatus("Внесете е-пошта и лозинка.", true);
            return;
          }

          setStatus("Се креира сметка...", false);

          try {
            await signUp(email, password);
            setStatus(
              "Сметката е креирана. Доколку е потребно, проверете ја е-поштата за потврда.",
              false
            );
          } catch (err) {
            console.error(err);
            setStatus(err.message || "Настана грешка при регистрација.", true);
          }
        });
      });
    </script>
</body>
</html>
